{"remainingRequest":"D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\src\\views\\Book.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\src\\views\\Book.vue","mtime":1631542214000},{"path":"D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiLi4vdXRpbHMvcmVxdWVzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQm9vaycsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VhcmNoOiAnJywKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIC8vIHRvdGFs5Y+v5Lul5LuO5ZCO5Y+w6I635Y+WCiAgICAgIHRhYmxlRGF0YTogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5nZXQoIi9ib29rL2dldCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhZ2VOdW06IHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICAgIHNlYXJjaDogdGhpcy5zZWFyY2gKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzLmRhdGEuZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZm9ybS5pZCkgewogICAgICAgIC8vdXBkYXRlCiAgICAgICAgcmVxdWVzdC5wdXQoIi9ib29rL3VwZGF0ZSIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAnMCcpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuabtOaWsOaIkOWKnyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vbmV3CiAgICAgICAgcmVxdWVzdC5wb3N0KCIvYm9vayIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAnMCcpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuaWsOWinuaIkOWKnyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmxvYWQoKTsgLy/liLfmlrDooajmoLzmlbDmja4KCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQocm93KSB7CiAgICAgIHRoaXMuZm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocm93KSk7IC8vIOmBv+WFjeS/ruaUueWQjueCueWPlua2iOihqOagvOWPkeeUn+WPmOWMlu+8jOaVheimgea3seaLt+i0nQoKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VTaXplKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSBwYWdlU2l6ZTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShwYWdlTnVtKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlTnVtOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKGlkKTsKICAgICAgcmVxdWVzdC5kZWxldGUoImJvb2svZGVsZXRlLyIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09ICcwJykgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczMubG9hZCgpOyAvL3JlbG9hZCB0aGUgdGFibGUKCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\IdeaProjects\\springboot-vue-demo\\springboot-vue-demo\\vue\\src\\views\\Book.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div style=\"padding: 10px\">\n        <!--    功能区域-->\n        <div style=\"margin: 10px 0\">\n            <el-button type=\"primary\" @click=\"add\">新增</el-button>\n            <el-button type=\"primary\">导入</el-button>\n            <el-button type=\"primary\">导出</el-button>\n        </div>\n        <!--    搜索区域-->\n        <div style=\"margin: 10px 0\">\n            <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%\" clearable></el-input>\n            <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"load\">查询</el-button>\n        </div>\n        <!--      表格区域-->\n        <el-table\n                stripe\n                :data=\"tableData\"\n                style=\"width: 100%\">\n            <el-table-column\n                    prop=\"id\"\n                    label=\"ID\"\n                    sortable\n            >\n            </el-table-column>\n            <el-table-column\n                    prop=\"name\"\n                    label=\"书名\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"price\"\n                    label=\"价格\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"author\"\n                    label=\"作者\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"createTime\"\n                    label=\"出版时间\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template #default=\"scope\">\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n                    <!--确认删除气泡框-->\n                    <el-popconfirm title=\"确定删除吗？\" @confirm=\"handleDelete(scope.row.id)\">\n                        <template #reference>\n                            <el-button size=\"mini\" type=\"danger\">删除</el-button>\n                        </template>\n                    </el-popconfirm>\n                </template>\n            </el-table-column>\n        </el-table>\n        <!--      分页区域-->\n        <div style=\"margin: 10px 0\">\n            <el-pagination\n                    @size-change=\"handleSizeChange\"\n                    @current-change=\"handleCurrentChange\"\n                    :current-page=\"currentPage\"\n                    :page-sizes=\"[5, 10, 20]\"\n                    :page-size=\"pageSize\"\n                    layout=\"total, sizes, prev, pager, next, jumper\"\n                    :total=\"total\">\n            </el-pagination>\n\n\n            <el-dialog title=\"提示\" v-model=\"dialogVisible\" width=\"30%\">\n                <el-form :model=\"form\" label-width=\"120px\">\n                    <el-form-item label=\"书名\">\n                        <el-input v-model=\"form.name\" style=\"width: 80%\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"价格\">\n                        <el-input v-model=\"form.price\" style=\"width: 80%\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"作者\">\n                        <el-input v-model=\"form.author\" style=\"width: 80%\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"出版时间\">\n                        <el-date-picker v-model=\"form.createTime\" value-format=\"YYYY-MM-DD\" type=\"date\" style=\"width: 80%\" clearable></el-date-picker>\n                    </el-form-item>\n                </el-form>\n                <template #footer>\n                <span class=\"dialog-footer\">\n                  <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                  <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n                </span>\n                </template>\n            </el-dialog>\n\n\n        </div>\n    </div>\n</template>\n\n<script>\n\n\n\n    import request from \"../utils/request\";\n\n\n    export default {\n        name: 'Book',\n        components: {\n        },\n\n        data(){\n            return{\n                form: {},\n                dialogVisible: false,\n                search: '',\n                currentPage:1,\n                total:0,\n                pageSize:10,\n                // total可以从后台获取\n                tableData:[]\n            }\n        },\n        created() {\n            this.load()\n        },\n        methods: {\n            load() {\n                request.get(\"/book/get\", {\n                    params: {\n                        pageNum: this.currentPage,\n                        pageSize: this.pageSize,\n                        search: this.search\n                    }\n                }).then(res => {\n                    console.log(res);\n                    this.tableData = res.data.data.records\n                    this.total = res.data.data.total\n                })\n            },\n            add() {\n                this.dialogVisible = true;\n                this.form = {}\n            },\n            save() {\n                if (this.form.id) {    //update\n                    request.put(\"/book/update\", this.form).then(res => {\n                        console.log(res)\n                        if (res.data.code === '0') {\n                            this.$message({\n                                type: \"success\",\n                                message: \"更新成功\"\n                            })\n                        } else {\n                            this.$message({\n                                type: \"error\",\n                                message: res.data.msg\n                            })\n                        }\n\n                    })\n                } else {       //new\n                    request.post(\"/book\", this.form).then(res => {\n                        console.log(res)\n                        if (res.data.code === '0') {\n                            this.$message({\n                                type: \"success\",\n                                message: \"新增成功\"\n                            })\n                        } else {\n                            this.$message({\n                                type: \"error\",\n                                message: res.data.msg\n                            })\n                        }\n\n                    })\n                }\n                this.load();   //刷新表格数据\n\n                this.dialogVisible = false;\n\n            },\n            handleEdit(row) {\n                this.form = JSON.parse(JSON.stringify(row))\n                // 避免修改后点取消表格发生变化，故要深拷贝\n                this.dialogVisible = true\n\n            },\n            handleSizeChange(pageSize) {\n                this.pageSize=pageSize\n                this.load()\n            },\n            handleCurrentChange(pageNum) {\n                this.currentPage=pageNum\n                this.load()\n            },\n            handleDelete(id){\n                console.log(id)\n                request.delete(\"book/delete/\" + id).then(res=>{\n                    if (res.data.code === '0') {\n                        this.$message({\n                            type: \"success\",\n                            message: \"删除成功\"\n                        })\n                    } else {\n                        this.$message({\n                            type: \"error\",\n                            message: res.data.msg\n                        })\n                    }\n                    this.load() //reload the table\n                })\n            }\n        }\n    }\n</script>\n"],"sourceRoot":""}]}